---
title: 正则表达式笔记
date: 2016-10-25 23:00:32
tags:
---
## 正则表达式基本语法
### 界定符
- 表达一个表达式的开始和结束
- `/[0-9]/`
### 原子
正则表达式中的最小匹配单位，通常它只是Unicode编码表中的某一个字符。原子分为2种，可见和不可见。
- 可见原子
 - Unicode编码表中用键盘输出后肉眼可见的字符
 - 有哪些：
    标点 ; " _ ? .等等
    英文字母数字 a-z,A-Z,0-9
- 不可见原子
 - Unicode编码表中用键盘输出后肉眼不可见的字符
 - 换行符 \n
    回车\r
    制表符 \t
    空格
    其他不可见符号

**正则表达式中出现汉字时，最好将汉字转化为Unicode编码（可以使用转化工具）换成unicode编码，来防止由于编码格式的不同而导致的匹配失败的情况。
当你要匹配的标点符号正好是正则表达式运算符的时候，在符号前面加\，比如$运算符 ，用 \转义
最特殊的符号是\，既是正则运算符又是转义符，如果想在目标字符串中匹配这个\，就要敲2个\\。**
### 元字符
定义原子的筛选方式；
- |   匹配两个或多个分支选择（或的意思）
- []  只能写上原子或原子集合，匹配其中任意一个原子
- [^] 与[]相反，只要出现的都不匹配（写法不能分开，^ 必须跟在 [ 的后面）
`Duang~|duang~ == [Dd]uang~`
`[a-zA-Z0-9]`
`[\u4e00-\u9fa5]`匹配中文
### 原子的集合
1. .    匹配除换行符之外的任意字符。等价于[^\n]。
2. \d    匹配任意一个十进制数字，即[0-9]。
3. \D    匹配任意一个非十进制数字，即[^0-9]。
4. \s    匹配一个不可见原子，即[\f\n\r\t\v]。
5. \S    匹配一个可见原子，即[^\f\n\r\t\v]。
6. \w    匹配任意一个数字，字母或下划线，即[0-9a-zA-Z_]。
7. \W    匹配任意一个非数字，字母或是下划线，即[^0-9a-zA-Z_]。
### 量词
- {n} 表示其前面的原子恰好出现n次。
- {n,} 表示其前面的原子最少出现n次。
- {n,m} 表示其前面的原子最少出现n次，最多出现m次。
- \* 匹配0次，1次，或者多次其之前的原子，即{0,}。
- \+ 匹配1次，或者多次其之前的原子，即{1,}。
- ? 匹配0次，1次，或者1次其之前的原子，即{0,1}
### 边界控制和模式单元
- ^ 匹配字符串开始的位置 as: `^string`只能匹配一开始就为string的字符串，前面不能有其它的任何元素
- $ 匹配字符串结束的位置 as: `string$`只能匹配其结束位置为string的字符串，后面不能有其它的任何元素
- () 括号的整体作为一个原子
## 修正模式（PHP）
- 贪婪匹配：匹配结果存在歧义时，取其长。默认是贪婪模式。
- 懒惰匹配：匹配结果存在歧义时，取其短。
- 指定模式：只需要在正则表达式的末尾，也就是斜杠（/）的后面，加上一个修正模式的标识，大写的U。如PHP中：$pattern = '/imooc.+123/U'。
### 常见的修正模式
- U 懒惰匹配
- i 忽略大小写
- x 忽略空白
- s 让元字符‘.’匹配包含换行符在内的所有字符
## 修正模式（JavaScript修饰符）
- i 执行对大小写不敏感的匹配。
- g 执行全局匹配（查找所有匹配而非在找到第一个匹配后停止）。
- m 执行多行匹配。
## 常用的正则表达式
- 匹配url`((http:\/\/)|(https:\/\/))?(\w+\.)?\w+(\.\w+)+(\/[\w?=]*)*`
## JavaScript正则表达式的应用
创建正则表达式对象两种方法：
1. 字面量
`var b = /\w+/g;`
2. 构造函数
`var reg=new RegExp('\\w+',g);`js中反斜线`\`本身是特殊字符须写两次转义。第二参数可选，填写修饰符

 